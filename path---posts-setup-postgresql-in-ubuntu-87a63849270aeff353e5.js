webpackJsonp([34637703430350],{395:function(s,a){s.exports={data:{site:{siteMetadata:{title:"Sanjeev Kumar Pandit",subtitle:"#FullStackDeveloper #FootballFan",copyright:"© All rights reserved.",author:{name:"John Doe",twitter:"#"},disqusShortname:"",url:"http://sanjeevkpandit.com.np"}},markdownRemark:{id:"/run/media/sanjeev/Code/Projects/Personal/sanjeevkpandit.github.io/src/pages/articles/2016-06-19---Setup-postgres-in-Ubuntu/index.md absPath of file >>> MarkdownRemark",html:'<p><a href="https://www.postgresql.org/" target="_blank">PostgreSQL</a> is a powerful, open source object-relational database system.</p>\n<h3>Install PostgreSQL</h3>\n<h4>1. From PPA (Recommended)</h4>\n<ul>\n<li>Create a file <code class="language-text">/etc/apt/sources.list.d/pgdg.list</code>, and add following line for the repository</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"><span class="token comment"># for ubuntu 16.04 users</span>\ndeb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main\n\n<span class="token comment"># for ubuntu 15.10 users</span>\ndeb http://apt.postgresql.org/pub/repos/apt/ wily-pgdg main\n\n<span class="token comment"># for ubuntu 14.04 users</span>\ndeb http://apt.postgresql.org/pub/repos/apt/ trusty-pgdg main\n\n<span class="token comment"># for ubuntu 12.04 users</span>\ndeb http://apt.postgresql.org/pub/repos/apt/ precise-pgdg main</code></pre>\n      </div>\n<ul>\n<li>Import the repository signing key, and update the package lists</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ <span class="token function">wget</span> --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc <span class="token operator">|</span> \\\n  <span class="token function">sudo</span> apt-key add -\n$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update</code></pre>\n      </div>\n<ul>\n<li>Install postgreSQL and, check version</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> postgresql-9.5\n$ psql --version</code></pre>\n      </div>\n<h4>2. From native store</h4>\n<p>Enter following commands:</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update\n$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> postgresql-9.4\n$ psql --version</code></pre>\n      </div>\n<h3>First time setup</h3>\n<ul>\n<li>Connect to the default database with user <strong>postgres</strong>:</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> -u postgres psql template1</code></pre>\n      </div>\n<ul>\n<li>Set the password for user <strong>postgres</strong>, then exit psql (Ctrl+D):</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> postgres <span class="token keyword">with</span> encrypted password <span class="token string">\'xxxxxxxx\'</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<ul>\n<li>Edit the <code class="language-text">pg_hba.conf</code> file. And, change ‘peer’ to ‘md5’ on the line concerning postgres:</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> vim /etc/postgresql/9.5/main/pg_hba.conf</code></pre>\n      </div>\n<p>    Before changes:</p>\n<div class="gatsby-highlight">\n      <pre class="language-vim"><code class="language-vim">local   <span class="token keyword">all</span>     postgres    peer</code></pre>\n      </div>\n<p>    After changes:</p>\n<div class="gatsby-highlight">\n      <pre class="language-vim"><code class="language-vim">local   <span class="token keyword">all</span>     postgres    md5</code></pre>\n      </div>\n<ul>\n<li>Restart the database:</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">service</span> postgresql restart</code></pre>\n      </div>\n<ul>\n<li>\n<p>You can check the password with <code class="language-text">psql -U postgres</code></p>\n</li>\n<li>\n<p>Create a user (with superuser access):</p>\n</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ createuser -U postgres -d -e -E -l -P -r -s <span class="token operator">&lt;</span>new_username<span class="token operator">></span></code></pre>\n      </div>\n<ul>\n<li>Again edit <code class="language-text">pg_hba.conf</code> file, and change ‘peer’ to ‘md5’ on the line concerning ‘all’ other users:</li>\n</ul>\n<p>    Before changes:</p>\n<div class="gatsby-highlight">\n      <pre class="language-vim"><code class="language-vim">local   <span class="token keyword">all</span>     <span class="token keyword">all</span>     peer</code></pre>\n      </div>\n<p>    After changes:</p>\n<div class="gatsby-highlight">\n      <pre class="language-vim"><code class="language-vim">local   <span class="token keyword">all</span>     <span class="token keyword">all</span>     md5</code></pre>\n      </div>\n<ul>\n<li>Restart, and check that you can login with new user</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ psql -U <span class="token operator">&lt;</span>new_username<span class="token operator">></span> template1</code></pre>\n      </div>\n<h4>To access with you as a user</h4>\n<ul>\n<li>Create user with your username(can be found by <code class="language-text">whoami</code>):</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ createuser -U postgres -d -e -E -l -P -r -s <span class="token operator">&lt;</span>my_name<span class="token operator">></span></code></pre>\n      </div>\n<ul>\n<li>Restart postgresql server and check that you can login without <code class="language-text">-U postgres</code>:</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ psql template1</code></pre>\n      </div>\n<ul>\n<li>You can create database easily now:</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">$ createdb <span class="token operator">&lt;</span>db_name<span class="token operator">></span></code></pre>\n      </div>\n<h3>Resources</h3>\n<ul>\n<li><a href="https://www.postgresql.org/download/linux/ubuntu/" target="_blank">https://www.postgresql.org/download/linux/ubuntu/</a></li>\n<li><a href="http://stackoverflow.com/questions/1471571/how-to-configure-postgresql-for-the-first-time" target="_blank">http://stackoverflow.com/questions/1471571/how-to-configure-postgresql-for-the-first-time</a></li>\n</ul>',fields:{tagSlugs:["/tags/postgres/","/tags/ubuntu/"]},frontmatter:{title:"Setup postgresql in Ubuntu",tags:["postgres","ubuntu"],date:"2016-06-19T00:00:00Z",description:"Install PostgreSQL and know about first time setup."}}},pathContext:{slug:"/posts/setup-postgresql-in-ubuntu/"}}}});
//# sourceMappingURL=path---posts-setup-postgresql-in-ubuntu-87a63849270aeff353e5.js.map